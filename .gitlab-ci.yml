image: maven
 
before_script:
    - 'which ssh-agent || ( apt update -y && apt install openssh-client -y)'
    - eval $(ssh-agent -s)
    - ssh-add <(echo "$SSH_PRIVATE_KEY")
    - mkdir -p ~/.ssh
    - '[[ -f /.dockerenv ]] && echo -e "Host *\n\tStrictHostKeyChecking no\n\n" > ~/.ssh/config' 

stages:
    - build
    #- deploy

build:
    stage: build
    script:
      - cd BE/BillingService
      - ls
      - mvn clean package 
      - ls
      - scp -r target artemkulish123@35.226.70.206:/tmp
      
#deploy:
 #   stage: deploy
  #  script:
   #   - 
